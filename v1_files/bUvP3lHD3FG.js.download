;/*FB_PKG_DELIM*/

__d("LSInsertIntoAdminApprovalQueue",[],(function(a,b,c,d,e,f){function a(){var a=arguments,b=a[a.length-1],c=[];return b.sequence([function(c){return b.sequence([function(c){return b.forEach(b.filter(b.db.table(26).fetch([[[a[0],a[1]]]]),function(c){return b.i64.eq(c.threadKey,a[0])&&b.i64.eq(b.i64.cast([0,0]),b.i64.cast([0,0]))&&b.i64.eq(c.contactId,a[1])&&b.i64.lt(c.authorityLevel,b.i64.cast([0,80]))}),function(a){return a["delete"]()})},function(c){return b.db.table(26).add({threadKey:a[0],contactId:a[1],authorityLevel:b.i64.cast([0,80]),subscribeSource:a[2]})}])},function(a){return b.resolve(c)}])}a.__sproc_name__="LSMailboxInsertIntoAdminApprovalQueueStoredProcedure";a.__tables__=["group_membership_approval_requests"];e.exports=a}),null);