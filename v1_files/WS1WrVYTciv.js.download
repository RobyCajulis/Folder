;/*FB_PKG_DELIM*/

__d("MWMediaGalleryVideoThumbnail.react",["FDSImageCover.react","MWXVideoStatusListener.react","react","react-compiler-runtime"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;b.useCallback;var j=b.useRef;function a(a){var b=d("react-compiler-runtime").c(22),e=a.alt,f=a.fallbackVideoUrl,g=a.mediaRenderQpl;a=a.previewUrl;var h=j(null),k;b[0]!==g?(k=function(a){g==null||g.endFail("load-video-error",{string:{video_error_name:a}})},b[0]=g,b[1]=k):k=b[1];k=k;var l;b[2]!==g?(l=function(){g==null||g.endSuccess()},b[2]=g,b[3]=l):l=b[3];l=l;if(a!==""){var m=e!=null?e:"video thumbnail",n,o;b[4]!==g?(n=function(){return g==null?void 0:g.endFail("load-image-error")},o=function(){return g==null?void 0:g.endSuccess()},b[4]=g,b[5]=n,b[6]=o):(n=b[5],o=b[6]);var p;b[7]!==a||b[8]!==m||b[9]!==n||b[10]!==o?(p=i.jsx(c("FDSImageCover.react"),{alt:m,onError:n,onLoad:o,src:a}),b[7]=a,b[8]=m,b[9]=n,b[10]=o,b[11]=p):p=b[11];return p}b[12]!==k||b[13]!==l?(a=i.jsx(c("MWXVideoStatusListener.react"),{onError:k,onLoad:l,videoRef:h}),b[12]=k,b[13]=l,b[14]=a):a=b[14];m=e!=null?e:"video thumbnail";b[15]===Symbol["for"]("react.memo_cache_sentinel")?(n={className:"x5yr21d xl1xv1r xh8yej3"},b[15]=n):n=b[15];b[16]!==f||b[17]!==m?(o=i.jsx("video",babelHelpers["extends"]({alt:m},n,{controls:!1,ref:h,src:f})),b[16]=f,b[17]=m,b[18]=o):o=b[18];b[19]!==a||b[20]!==o?(p=i.jsxs(i.Fragment,{children:[a,o]}),b[19]=a,b[20]=o,b[21]=p):p=b[21];return p}g["default"]=a}),98);
__d("CometMediaViewerFilmstrip.react",["fbt","CometBackgroundImage.react","CometImage.react","CometPressable.react","CometThrottle","Locale","MWMediaGalleryVideoThumbnail.react","MWVideoPlayerPlayButton.react","gkx","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;b.useCallback;var l=b.useEffect,m=b.useRef,n=b.useState,o=c("gkx")("1775"),p={imageInner:{height:"x5yr21d",objectFit:"x19kjcj4",overflowX:"x6ikm8r",overflowY:"x10wlt62",width:"xh8yej3",$$css:!0},maxRootWidth:{maxWidth:"x193iq5w",$$css:!0},root:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",transitionDuration:"xu6gjpd",transitionProperty:"x11xpdln",transitionTimingFunction:"x1r7x56h",whiteSpace:"xuxw1ft",$$css:!0},rootOverflow:{overflowX:"xw2csxc",overflowY:"x10wlt62",overscrollBehavior:"xish69e",$$css:!0},thumbnail:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",cursor:"x1ypdohk",overflowX:"x6ikm8r",overflowY:"x10wlt62",$$css:!0},thumbnailContainer:{display:"x1rg5ohu",flexShrink:"x2lah0s",$$css:!0},thumbnailFocusRing:{borderStartStartRadius:"x1i5p2am",borderStartEndRadius:"x1whfx0g",borderEndEndRadius:"xr2y4jy",borderEndStartRadius:"x1ihp6rs",$$css:!0},thumbnailNonActive:{opacity:"xti2d7y",":hover_opacity":"x5z6fxw",$$css:!0},thumbnailNonActiveDarken:{filter:"x1vra34",":hover_filter":"x19oicha",$$css:!0}},q={2:{marginInlineStart:"xwklpps",marginInlineEnd:"xnnr8r",marginLeft:null,marginRight:null,$$css:!0},6:{marginInlineStart:"xdzw4kq",marginInlineEnd:"xbelrpt",marginLeft:null,marginRight:null,$$css:!0}},r={36:{width:"x14qfxbe",$$css:!0},40:{width:"x100vrsf",$$css:!0}},s={36:{height:"xc9qbxq",$$css:!0},40:{height:"x1vqgdyp",$$css:!0}};function t(a){var b=d("react-compiler-runtime").c(40),e;b[0]!==a.image.backgroundColor||b[1]!==a.image.isUseImageResizing||b[2]!==a.image.mediaType?(e=a.image.mediaType!=="video"&&Boolean(a.image.isUseImageResizing)?{backgroundColor:a.image.backgroundColor}:{},b[0]=a.image.backgroundColor,b[1]=a.image.isUseImageResizing,b[2]=a.image.mediaType,b[3]=e):e=b[3];e=e;var f=a.image.mediaType!=="video"?a.image.uri:a.image.thumbnailUri,g=a.thumbnailMargin,j=a.thumbnailSize,n=a.thumbnailUseDarken;n=n?p.thumbnailNonActiveDarken:p.thumbnailNonActive;var t="comet-media-viewer-filmstrip-thubmnail-"+a.index,u=m(null),v;b[4]!==a.active||b[5]!==a.canScrollToActiveThumbnail?(v=function(){if(a.active&&a.canScrollToActiveThumbnail&&o){var b;(b=u.current)==null||b.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}},b[4]=a.active,b[5]=a.canScrollToActiveThumbnail,b[6]=v):v=b[6];var w=v,x;b[7]!==w?(v=function(){w()},x=[w],b[7]=w,b[8]=v,b[9]=x):(v=b[8],x=b[9]);l(v,x);b[10]!==w?(v=function(){if(!o)return;var a=c("CometThrottle")(w,100);window.addEventListener("resize",a);return function(){window.removeEventListener("resize",a)}},x=[w],b[10]=w,b[11]=v,b[12]=x):(v=b[11],x=b[12]);l(v,x);b[13]!==g||b[14]!==j?(v=(i||(i=c("stylex"))).props([p.thumbnailContainer,s[j],r[j],q[g]]),b[13]=g,b[14]=j,b[15]=v):v=b[15];b[16]!==a.index?(x=h._(/*BTDS*/"Thumbnail {index}",[h._param("index",a.index)]),b[16]=a.index,b[17]=x):x=b[17];g=a.onClick;var y=s[j];j=r[j];n=a.active!==!0&&n;var z;b[18]!==j||b[19]!==n||b[20]!==y?(z=(i||(i=c("stylex")))(p.thumbnail,y,j,n),b[18]=j,b[19]=n,b[20]=y,b[21]=z):z=b[21];b[22]!==f||b[23]!==a.alt||b[24]!==a.image.isUseImageResizing||b[25]!==a.image.mediaType||b[26]!==a.image.uri?(j=a.image.mediaType==="video"?k.jsxs(k.Fragment,{children:[k.jsx("div",babelHelpers["extends"]({className:"x6s0dn4 x78zum5 x3igimt xl56j7k x10l6tqk x1qrby5j"},{children:k.jsx(c("MWVideoPlayerPlayButton.react"),{isVisible:!0,size:"SMALL"})})),k.jsx(c("MWMediaGalleryVideoThumbnail.react"),{fallbackVideoUrl:a.image.uri,previewUrl:f})]}):Boolean(a.image.isUseImageResizing)?k.jsx(c("CometImage.react"),{src:f,xstyle:p.imageInner}):k.jsx(c("CometBackgroundImage.react"),{alt:a.alt,src:f}),b[22]=f,b[23]=a.alt,b[24]=a.image.isUseImageResizing,b[25]=a.image.mediaType,b[26]=a.image.uri,b[27]=j):j=b[27];b[28]!==e||b[29]!==z||b[30]!==j?(n=k.jsx("div",{className:z,style:e,children:j}),b[28]=e,b[29]=z,b[30]=j,b[31]=n):n=b[31];b[32]!==a.onClick||b[33]!==n||b[34]!==x?(y=k.jsx(c("CometPressable.react"),{display:"block",label:x,onPress:g,overlayDisabled:!0,xstyle:p.thumbnailFocusRing,children:n}),b[32]=a.onClick,b[33]=n,b[34]=x,b[35]=y):y=b[35];b[36]!==y||b[37]!==v||b[38]!==t?(f=k.jsx("div",babelHelpers["extends"]({},v,{"data-testid":void 0,ref:u,children:y})),b[36]=y,b[37]=v,b[38]=t,b[39]=f):f=b[39];return f}function a(a){var b=d("react-compiler-runtime").c(23),e=n(0),f=e[0],g=e[1],h=m(null),j=m(null),q=m(null);e=a.thumbnailMargin;var r=a.thumbnailSize,u=a.thumbnailUseDarken,v=e===void 0?6:e,w=r===void 0?36:r,x=u===void 0?!1:u,y=w+v*2;b[0]!==a.activeIndex||b[1]!==a.images.length||b[2]!==y||b[3]!==f?(e=function(){var b=function(){if(h.current!=null){var b=h.current,c=b.offsetWidth;b=b.scrollWidth;var d=q.current;if(b===c)return;b=-f/y;var e=Math.floor((c+-f)/y),i=b+Math.floor((e-b)/2);if(d!=null){if(a.activeIndex>d&&(a.activeIndex<i||e===a.images.length)){q.current=a.activeIndex;return}if(a.activeIndex<d&&(a.activeIndex>i||b===0)){q.current=a.activeIndex;return}}e=f-(a.activeIndex-(d!=null?d:0))*y;e=Math.min(0,e);e=Math.max(Math.floor(c-a.images.length*y),e);q.current=a.activeIndex;g(e)}};if(o)return;b();j.current!=null&&window.removeEventListener("resize",j.current);b=c("CometThrottle")(b,100);j.current=b;window.addEventListener("resize",b);return function(){j.current!=null&&window.removeEventListener("resize",j.current)}},b[0]=a.activeIndex,b[1]=a.images.length,b[2]=y,b[3]=f,b[4]=e):e=b[4];b[5]!==a.activeIndex||b[6]!==a.images||b[7]!==y||b[8]!==f?(r=[a.images,a.activeIndex,f,y],b[5]=a.activeIndex,b[6]=a.images,b[7]=y,b[8]=f,b[9]=r):r=b[9];l(e,r);if(a.images.length<2)return null;u=s[w];b[10]!==u?(e=(i||(i=c("stylex")))([p.root,u,o?p.rootOverflow:p.maxRootWidth]),b[10]=u,b[11]=e):e=b[11];b[12]!==f?(r=o?void 0:{transform:"translate3d("+(d("Locale").isRTL()?-f:f)+"px, 0, 0)"},b[12]=f,b[13]=r):r=b[13];b[14]!==a||b[15]!==v||b[16]!==w||b[17]!==x?(u=a.images.map(function(b,c){return k.jsx(t,{active:a.activeIndex===c,alt:b.alt,canScrollToActiveThumbnail:!1,image:b,index:c,onClick:function(b){a.onSetImage(c)},thumbnailMargin:v,thumbnailSize:w,thumbnailUseDarken:x},"thumbnail_"+c)}),b[14]=a,b[15]=v,b[16]=w,b[17]=x,b[18]=u):u=b[18];var z;b[19]!==e||b[20]!==r||b[21]!==u?(z=k.jsx("div",{className:e,ref:h,style:r,children:u}),b[19]=e,b[20]=r,b[21]=u,b[22]=z):z=b[22];return z}g["default"]=a}),226);
__d("MWChatMediaViewerNavigationTapTarget.react",["CometTrackingNodeProvider.react","Locale","MWXIconChevronLeft","MWXIconChevronRight","MWXIconStrict.react","MWXPressable.react","react","react-compiler-runtime","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react"),k=d("Locale").isRTL(),l={buttonContainer:function(a){return[{alignItems:"x6s0dn4",aspectRatio:"x1plog1",backgroundColor:"x1l31dnx",borderStartStartRadius:"x1c9tyrk",borderStartEndRadius:"xeusxvb",borderEndEndRadius:"x1pahc9y",borderEndStartRadius:"x1ertn4p",boxShadow:"x1qeybcx",display:"x78zum5",height:a!=null?"x16ye13r":a,justifyContent:"xl56j7k",$$css:!0},{"--x-height":function(a){return typeof a==="number"?a+"px":a!=null?a:void 0}(a)}]},buttonContainerBackground:{backgroundColor:"xiwuv7k",$$css:!0},buttonContainerHoverLeft:{transform:"xs51lif",$$css:!0},buttonContainerHoverRight:{transform:"xzycz3q",$$css:!0},buttonOpacity:function(a,b){return[{opacity:a!=null?"xb4nw82":a,":hover_opacity":b!=null?"x13tpr2m":b,$$css:!0},{"--x-opacity":a!=null?a:void 0,"--x-1u3p0zx":b!=null?b:void 0}]},navButton:{alignItems:"x6s0dn4",display:"x78zum5",paddingTop:"xyamay9",paddingInlineEnd:"xv54qhq",paddingBottom:"x1l90r2v",paddingInlineStart:"xf7dkkf",position:"x1n2onr6",transitionDuration:"x1k90msu",transitionProperty:"x6o7n8i",transitionTimingFunction:"x9lcvmn",willChange:"x6my1t9",$$css:!0},tapTargetOverlay:{height:"x5yr21d",$$css:!0}};function a(a){var b=d("react-compiler-runtime").c(20),e=a.buttonHoverOpacity,f=a.buttonOpacity,g=a.buttonSize,i=a.direction,m=a.label,n=a.onClick,o=a.shouldHide,p=a.shouldHideContainerBackground,q=a.shouldHideWithoutTransition,r=a.testid;a=a.trackingNode;var s=e===void 0?1:e,t=f===void 0?.6:f,u=g===void 0?40:g;e=o===void 0?!1:o;var v=p===void 0?!1:p;f=q===void 0?!1:q;var w=k?c("MWXIconChevronRight"):c("MWXIconChevronLeft"),x=k?c("MWXIconChevronLeft"):c("MWXIconChevronRight");b[0]!==s||b[1]!==t||b[2]!==u||b[3]!==i||b[4]!==v?(g=function(a){a=a.hovered;return j.jsx("div",babelHelpers["extends"]({},(h||(h=c("stylex"))).props(l.navButton,l.buttonOpacity(t,s),!v&&l.buttonContainerBackground,a&&(i==="previous"?l.buttonContainerHoverLeft:l.buttonContainerHoverRight)),{children:j.jsx("div",babelHelpers["extends"]({},h.props(l.buttonContainer(u)),{children:j.jsx(c("MWXIconStrict.react"),{icon:i==="previous"?w:x,size:u/2})}))}))},b[0]=s,b[1]=t,b[2]=u,b[3]=i,b[4]=v,b[5]=g):g=b[5];b[6]!==m||b[7]!==n||b[8]!==g||b[9]!==r?(o=j.jsx(c("MWXPressable.react"),{"aria-label":m,focusable:!1,onPress:n,testid:void 0,xstyle:l.tapTargetOverlay,children:g}),b[6]=m,b[7]=n,b[8]=g,b[9]=r,b[10]=o):o=b[10];p=o;b[11]!==e||b[12]!==f?(q={0:{className:"x6s0dn4 x78zum5 xl56j7k x1hc1fzr x1n2onr6 x1ebt8du x1jl3cmp x1dhq9h xfwg19i x1vjfegm x5yr21d"},2:{className:"x6s0dn4 x78zum5 xl56j7k x1n2onr6 x1jl3cmp xfwg19i x1vjfegm xg01cxk xhb22t3 xls3em1 xlshs6z x5yr21d"},1:{className:"x6s0dn4 xl56j7k x1hc1fzr x1n2onr6 x1ebt8du x1jl3cmp x1dhq9h xfwg19i x1vjfegm x5yr21d x1s85apg"},3:{className:"x6s0dn4 xl56j7k x1n2onr6 x1jl3cmp xfwg19i x1vjfegm xg01cxk xhb22t3 xls3em1 xlshs6z x5yr21d x1s85apg"}}[!!e<<1|!!f<<0],b[11]=e,b[12]=f,b[13]=q):q=b[13];b[14]!==p||b[15]!==a?(m=a!=null?j.jsx(c("CometTrackingNodeProvider.react"),{trackingNode:a,children:p}):p,b[14]=p,b[15]=a,b[16]=m):m=b[16];b[17]!==m||b[18]!==q?(n=j.jsx("div",babelHelpers["extends"]({},q,{children:m})),b[17]=m,b[18]=q,b[19]=n):n=b[19];return n}g["default"]=a}),98);
__d("MWV2MediaViewerContentDeferred",["requireDeferred"],(function(a,b,c,d,e,f,g){"use strict";a=c("requireDeferred")("MWV2MediaViewerContent.react").__setRef("MWV2MediaViewerContentDeferred");b=a;g["default"]=b}),98);