;/*FB_PKG_DELIM*/

__d("FBNucleusChevronUpFilled16Icon.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a){return i.jsxs("svg",babelHelpers["extends"]({viewBox:"0 0 16 16",width:"1em",height:"1em",fill:"currentColor"},a,{children:[a.title!=null&&i.jsx("title",{children:a.title}),a.children!=null&&i.jsx("defs",{children:a.children}),i.jsx("path",{d:"M6.938 5.647a1.5 1.5 0 0 1 2.122 0l2.646 2.646a1 1 0 1 1-1.414 1.415L7.999 7.415 5.706 9.708a1 1 0 0 1-1.414-1.415l2.646-2.646z"})]}))}a.displayName=a.name+" [from "+f.id+"]";a._size=16;a._isSVG=!0;b=a;g["default"]=b}),98);
__d("MWInboxPrecutoverOpenThreadBannerV1.react",["fbt","ix","I64","LSMessagingThreadTypeUtil","LSThreadBitOffset","MAWThreadCutover","MWEncryptedBackupsLocalStorageEntryEnum","MWPActor.react","MWXQPCard.react","ReQL","ReQLSuspense","getMWInlineQPBannerStyles","getMWLocalStorageThreadsWithBannerDismissed","react","react-compiler-runtime","requireDeferred","setHasDismissedSecretConversationsDeprecationBanner.react","stylex","useMWEntrypoint","useMWRedirectToEncryptedThreadOfDualThread","useReStore","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l,m,n=m||(m=d("react")),o=m.useState,p=c("requireDeferred")("MessageThreadEventsFalcoEvent").__setRef("MWInboxPrecutoverOpenThreadBannerV1.react");function a(a){var b=d("react-compiler-runtime").c(38);a=a.thread;var e=a.threadKey,g=a.threadType,m=(j||(j=c("useReStore")))(),r=d("MWPActor.react").useActor(),s;b[0]!==r||b[1]!==e?(s=(l||(l=d("I64"))).equal(r,e),b[0]=r,b[1]=e,b[2]=s):s=b[2];var t=s,u;b[3]!==r||b[4]!==m||b[5]!==t||b[6]!==e||b[7]!==g?(s=function(){return d("LSMessagingThreadTypeUtil").isOneToOne(g)?d("ReQL").mergeJoin(d("ReQL").fromTableAscending(m.tables.participants).getKeyRange(e),d("ReQL").fromTableAscending(m.tables.contacts)).filter(function(a){a=a[1];return t||!(l||(l=d("I64"))).equal(a.id,r)}).map(q):d("ReQL").empty()},u=[m,e,g,r,t],b[3]=r,b[4]=m,b[5]=t,b[6]=e,b[7]=g,b[8]=s,b[9]=u):(s=b[8],u=b[9]);s=d("ReQLSuspense").useFirst(s,u,f.id+":63");var v=d("MAWThreadCutover").useIsCutoverOpenThread(e);u=d("MAWThreadCutover").useIsDualThreadCutoverOpenThread(e);var w;b[10]!==a?(w=d("LSThreadBitOffset").has(260,a),b[10]=a,b[11]=w):w=b[11];a=w;var x=c("useMWRedirectToEncryptedThreadOfDualThread")(e);b[12]!==e?(w=function(){var a=d("getMWLocalStorageThreadsWithBannerDismissed").parseLocalStorageThreadsWithBannerDismissed(c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED);return!Object.prototype.hasOwnProperty.call(a,(l||(l=d("I64"))).to_string(e))},b[12]=e,b[13]=w):w=b[13];w=o(w);var y=w[0],z=w[1];if(b[14]!==t||b[15]!==(s==null?void 0:s.firstName)||b[16]!==(s==null?void 0:s.name)){w=t?h._(/*BTDS*/"Messenger is upgrading security, so only your end-to-end encrypted chat will remain active."):h._(/*BTDS*/"Messenger is upgrading security, so only your end-to-end encrypted chat with {name} will remain active.",[h._param("name",(w=s==null?void 0:s.firstName)!=null?w:s==null?void 0:s.name)]);b[14]=t;b[15]=s==null?void 0:s.firstName;b[16]=s==null?void 0:s.name;b[17]=w}else w=b[17];s=w;var A=c("useMWEntrypoint")();b[18]!==g?(w=d("LSMessagingThreadTypeUtil").isArmadilloSecure(g),b[18]=g,b[19]=w):w=b[19];var B=w;b[20]!==A||b[21]!==v||b[22]!==B||b[23]!==e||b[24]!==g?(w={onVisible:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_impression_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})})}},b[20]=A,b[21]=v,b[22]=B,b[23]=e,b[24]=g,b[25]=w):w=b[25];w=c("useVisibilityObserver")(w);var C;b[26]!==s||b[27]!==A||b[28]!==v||b[29]!==u||b[30]!==a||b[31]!==B||b[32]!==x||b[33]!==w||b[34]!==y||b[35]!==e||b[36]!==g?(C=y&&a&&!v&&!u&&n.jsx("div",babelHelpers["extends"]({"data-testid":void 0},(k||(k=c("stylex"))).props(d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBannerWrapper),{children:n.jsx(c("MWXQPCard.react"),{addOnPrimary:{label:h._(/*BTDS*/"Switch to other chat"),onPress:function(){p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_cta_click_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})}),x()},type:"secondary"},body:s,headline:h._(/*BTDS*/"This chat will be archived soon"),icon:{props:{src:i("876158")},type:"image"},onClose:function(){d("setHasDismissedSecretConversationsDeprecationBanner.react").setHasDismissedSecretConversationsDeprecationBanner((l||(l=d("I64"))).to_string(e),c("MWEncryptedBackupsLocalStorageEntryEnum").MW_EB_PRECUTOVER_BANNER_ON_OPEN_THREAD_DISMISSED),p.onReady(function(a){return a.log(function(){return{entry_point:A,event_type:"secret_conversation_open_thread_banner_dismissed_event",is_cutover:v,thread_id:(l||(l=d("I64"))).to_string(e),thread_type:l.to_string(g),transport_type:B?"ACT":"MI"}})}),z(!1)},ref:w,xstyle:d("getMWInlineQPBannerStyles").inlineQPBannerStyles.inlineQPBanner})})),b[26]=s,b[27]=A,b[28]=v,b[29]=u,b[30]=a,b[31]=B,b[32]=x,b[33]=w,b[34]=y,b[35]=e,b[36]=g,b[37]=C):C=b[37];return C}function q(a){a=a[1];return a}g["default"]=a}),226);