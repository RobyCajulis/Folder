;/*FB_PKG_DELIM*/

__d("CometComposerMediaAttachmentPendingMediaStates",["$InternalEnum"],(function(a,b,c,d,e,f){"use strict";a=b("$InternalEnum").Mirrored(["NEW","QUEUED","UPLOADING","CLIENT_PROCESSING","CLIENT_PROCESSING_COMPLETE"]);c=a;f["default"]=c}),66);
__d("cometComposerValidateNoMediaCurrentlyUploading",["fbt","CometComposerMediaAttachmentPendingMediaStates"],(function(a,b,c,d,e,f,g,h){"use strict";function a(a){return(a.mediaAttachments||[]).some(function(a){return new Set(c("CometComposerMediaAttachmentPendingMediaStates").members()).has(a.state)})?h._(/*BTDS*/"You can't post while media is uploading"):null}g["default"]=a}),226);
__d("coreReelDataTransform",["ComposerGating"],(function(a,b,c,d,e,f,g){"use strict";var h=d("ComposerGating").shouldShowUnifiedVideoEditor();function a(a,b,c){c(babelHelpers["extends"]({},b,{fb_shorts:{has_overridden_video_format:h,is_fb_short:!h,remix_status:"DISABLED"}}))}g["default"]=a}),98);
__d("getReelLengthOnCreation",[],(function(a,b,c,d,e,f){"use strict";function a(a){var b;if((a==null?void 0:a.trimData)!=null)return a.trimData.videoTrimEnd-a.trimData.videoTrimStart;else if((a==null||(b=a.videoAttachmentMetadata)==null?void 0:b.originalVideoDurationSeconds)!=null){var c;return a==null||(c=a.videoAttachmentMetadata)==null?void 0:c.originalVideoDurationSeconds}return}f["default"]=a}),66);
__d("coreReelsAudioDataTransform",["getReelLengthOnCreation","getViewStateVideoData"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,d){var e=a.mediaAttachments;a=b.attachments;if(e==null||a==null){d(b);return}a=a.map(function(a){var b=a==null?void 0:a.video;if(b==null||b.id==null)return a;a=c("getViewStateVideoData")(b.id,e);a=(a=c("getReelLengthOnCreation")(a))!=null?a:0;return{video:babelHelpers["extends"]({},b,{story_media_audio_data:{raw_media_type:"VIDEO"},video_media_metadata:{audio:{audio_type:"original_audio",start_time_s:0,volume_level:1},is_audio_muted:!1,length_in_sec:a}})}});d(babelHelpers["extends"]({},b,{attachments:a}))}g["default"]=a}),98);
__d("useVideoPlayerClip",["VideoPlayerHooks","react","react-compiler-runtime","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i;b=h||d("react");var j=b.useEffect,k=b.useRef;function a(a){var b=d("react-compiler-runtime").c(6),e=a.clipDuration,f=a.clipStartTime;a=a.pauseOnLoop;var g=f===void 0?0:f,h=a===void 0?!1:a,l=(i||(i=d("VideoPlayerHooks"))).useController(),m=k(null);b[0]!==e||b[1]!==g||b[2]!==l||b[3]!==h?(f=function(){g>=0||c("recoverableViolation")("useVideoPlayerClip clipStartTime must be greater than zero","comet_video_player");e!=null&&!(e>0)&&c("recoverableViolation")("useVideoPlayerClip clipDuration must be greater than zero","comet_video_player");if(g>=0&&e!=null&&e>0){m.current=l.getPlayheadPosition();var a=l.subscribe(function(){var a=m.current,b=l.getPlayheadPosition(),c=l.getCurrentState();if(a!=null&&b!==a&&!c.seeking){m.current=b;a=Math.min(c.duration,g+e);c="product_initiated";b>=a?(l.seek(g),h&&l.pause(c)):b<g&&l.seek(g)}});return function(){a.remove(),m.current=null}}},a=[e,g,l,h],b[0]=e,b[1]=g,b[2]=l,b[3]=h,b[4]=f,b[5]=a):(f=b[4],a=b[5]);j(f,a)}g["default"]=a}),98);